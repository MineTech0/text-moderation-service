# =============================================================================
# Text Moderation Service - Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values for your environment

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
SERVICE_NAME="Text Moderation Service"
DEBUG=false

# -----------------------------------------------------------------------------
# Model Configuration
# -----------------------------------------------------------------------------
MODEL_BACKEND=huggingface_pipeline
MODEL_NAME=TurkuNLP/bert-large-finnish-cased-toxicity
MODEL_DEVICE=-1

# -----------------------------------------------------------------------------
# Moderation Thresholds
# -----------------------------------------------------------------------------
# Score above BLOCK_THRESHOLD = block
BLOCK_THRESHOLD=0.9
# Score above FLAG_THRESHOLD = flag
FLAG_THRESHOLD=0.7
# Texts shorter than this are auto-allowed
TRIVIAL_LENGTH_THRESHOLD=2

# -----------------------------------------------------------------------------
# Wordlist Configuration
# -----------------------------------------------------------------------------
WORDLIST_DIR=/app/data
WORDLIST_REFRESH_DAYS=7

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
MAX_RETRIES=3
RETRY_BACKOFF_FACTOR=1.5

# -----------------------------------------------------------------------------
# Security (Optional)
# -----------------------------------------------------------------------------
# API token for authentication (leave empty to disable)
API_TOKEN=
# Comma-separated list of allowed origins for CORS
CORS_ORIGINS=*
# Rate limit: requests per minute per IP
RATE_LIMIT_PER_MINUTE=100

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Uvicorn Settings
# -----------------------------------------------------------------------------
UVICORN_WORKERS=1
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8000

# -----------------------------------------------------------------------------
# Monitoring (Grafana)
# -----------------------------------------------------------------------------
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION
GF_SERVER_ROOT_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Prometheus Retention
# -----------------------------------------------------------------------------
PROMETHEUS_RETENTION_TIME=30d

