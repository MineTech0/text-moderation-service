# =============================================================================
# Text Moderation Service - Environment Configuration
# =============================================================================
# For local development: Copy this file to .env
# For Coolify: Only Grafana is exposed externally
#
# Coolify Magic Variables (auto-generated):
#   SERVICE_FQDN_GRAFANA_3000  - External Grafana URL
#   SERVICE_PASSWORD_GRAFANA   - Grafana admin password
#   SERVICE_URL_GRAFANA        - Full Grafana URL for config
#
# Internal services (no external URL):
#   moderation-service:8000, prometheus:9090, node-exporter:9100
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
SERVICE_NAME="Text Moderation Service"
DEBUG=false

# -----------------------------------------------------------------------------
# Model Configuration
# -----------------------------------------------------------------------------
MODEL_BACKEND=huggingface_pipeline
MODEL_NAME=TurkuNLP/bert-large-finnish-cased-toxicity
MODEL_DEVICE=-1

# -----------------------------------------------------------------------------
# Moderation Thresholds
# -----------------------------------------------------------------------------
BLOCK_THRESHOLD=0.9
FLAG_THRESHOLD=0.7
TRIVIAL_LENGTH_THRESHOLD=2

# -----------------------------------------------------------------------------
# Wordlist Configuration
# -----------------------------------------------------------------------------
WORDLIST_DIR=/app/data
WORDLIST_REFRESH_DAYS=7

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
MAX_RETRIES=3
RETRY_BACKOFF_FACTOR=1.5

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# API token for authentication (optional, leave empty to disable)
#API_TOKEN=your-secret-token

# CORS allowed origins (comma-separated, or * for all)
#CORS_ORIGINS=https://app1.com,https://app2.com

RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Grafana (Local development only)
# In Coolify: Uses SERVICE_PASSWORD_GRAFANA
# -----------------------------------------------------------------------------
GF_SECURITY_ADMIN_USER=admin
#GF_SECURITY_ADMIN_PASSWORD=  # Set in Coolify or use SERVICE_PASSWORD_GRAFANA

# -----------------------------------------------------------------------------
# Prometheus
# -----------------------------------------------------------------------------
PROMETHEUS_RETENTION_TIME=30d

